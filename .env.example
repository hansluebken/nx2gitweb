# Ninox2Git WebApp - Environment Configuration Template
# Copy this file to .env and fill in your actual values

# ============================================
# Database Configuration
# ============================================
POSTGRES_DB=nx2git
POSTGRES_USER=nx2git
POSTGRES_PASSWORD=changeme_use_strong_password_here

# Database connection URL (automatically constructed in docker-compose.yml)
# Note: The hostname is nx2git-postgres (the container name), not postgres
# DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@nx2git-postgres:5432/${POSTGRES_DB}

# Enable SQL query logging (set to 'true' for debugging)
SQL_ECHO=false

# ============================================
# Security & Authentication
# ============================================

# Secret key for session management (generate with: openssl rand -hex 32)
SECRET_KEY=changeme_generate_random_secret_key_here

# JWT Authentication
JWT_SECRET_KEY=changeme_generate_another_random_key_here
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# Encryption key path (for sensitive data like API keys and tokens)
ENCRYPTION_KEY_PATH=/app/data/keys/encryption.key

# ============================================
# Email / SMTP Configuration
# ============================================

# SMTP Server (for password reset emails)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USE_TLS=true

# SMTP Credentials
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-specific-password

# Email sender information
SMTP_FROM=noreply@nx2git.netz-fabrik.net
SMTP_FROM_NAME=Ninox2Git

# ============================================
# Application Settings
# ============================================

# Application name and URL
APP_NAME=Ninox2Git WebApp
APP_URL=https://nx2git.netz-fabrik.net
APP_PORT=8765

# Admin email (for important notifications)
ADMIN_EMAIL=admin@netz-fabrik.net

# ============================================
# NiceGUI Configuration
# ============================================

# Port for NiceGUI web server
NICEGUI_PORT=8765

# Storage secret for NiceGUI (generate with: openssl rand -hex 32)
NICEGUI_STORAGE_SECRET=changeme_generate_storage_secret_here

# ============================================
# Logging Configuration
# ============================================

# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path
LOG_FILE=/app/data/logs/webapp.log

# ============================================
# GitHub Deployment Token
# ============================================

# GitHub Personal Access Token for deployment
# Only needed for initial setup and pushing the application
# Required permissions: repo (Full control of private repositories)
# IMPORTANT: Can be removed after deployment
GITHUB_DEPLOYMENT_TOKEN=your-github-token-here

# ============================================
# Default Admin User
# ============================================
# The admin user is created automatically on first startup
# Username: user500
# Password: Quaternion1234____
# IMPORTANT: Change the password immediately after first login!

# ============================================
# Production Deployment Notes
# ============================================
#
# 1. Generate secure random keys:
#    openssl rand -hex 32
#
# 2. Use strong database password (minimum 16 characters)
#
# 3. Configure Gmail App Password:
#    - Go to Google Account settings
#    - Security > 2-Step Verification > App passwords
#    - Generate new app password for "Mail"
#    - Use this password in SMTP_PASSWORD
#
# 4. Set correct APP_URL for your domain
#
# 5. Never commit .env file to version control!
#
# 6. Ensure proper file permissions:
#    chmod 600 .env
#    chmod 600 data/keys/encryption.key
#
# ============================================
